<!DOCTYPE html>
<html lang="en">
<%- include('../partials/header') %>

  <body style="margin:0; font-family: 'Segoe UI', sans-serif; background:#f7f7f7;">

    <%- include('../partials/nav') %>

      <div style="max-width:1200px; margin:40px auto; padding:0 20px;">

        <!-- Page Header -->
        <div style="text-align:center; margin-bottom:40px;">
          <h1 style="margin-bottom:10px;">Your Hosted Homes üè†</h1>
          <p style="color:gray; font-size:16px;">Manage, edit or remove your listings easily</p>
        </div>

        <!-- Homes Grid -->
        <div style="
        display:grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap:25px;
    ">

          <% houseRegistered.forEach(house=> { %>

            <div style="
            background:white;
            border-radius:18px;
            overflow:hidden;
            box-shadow:0 10px 25px rgba(0,0,0,0.08);
            transition:0.3s;
        " onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">

              <!-- Image -->
              <img src="<%= house.img %>" style="width:100%; height:200px; object-fit:cover;" />

              <!-- Content -->
              <div style="padding:18px;">

                <h2 style="margin:0 0 8px 0; font-size:20px;">
                  <%= house.houseName %>
                </h2>

                <p style="margin:5px 0; color:#ff385c; font-weight:600;">
                  ‚Çπ <%= house.price %> / night
                </p>

                <p style="margin:5px 0 15px 0; color:#777; font-size:14px;">
                  üìç <%= house.location %>
                </p>

                <!-- Action Buttons -->
                <div style="display:flex; gap:8px; flex-wrap:wrap;">

                  <a href="/user/homes/<%= house.id %>" style="
                        flex:1;
                        text-align:center;
                        background:#111;
                        color:white;
                        padding:8px;
                        border-radius:8px;
                        text-decoration:none;
                        font-size:14px;
                    ">
                    Details
                  </a>

                  <a href="/host/edit-home/<%= house.id %>?editing=true" style="
                        flex:1;
                        text-align:center;
                        background:#ffb703;
                        color:white;
                        padding:8px;
                        border-radius:8px;
                        text-decoration:none;
                        font-size:14px;
                    ">
                    Edit
                  </a>

                  <form action="/host/delete-home" method="POST" style="flex:1;">
                    <input type="hidden" name="id" value="<%= house.id %>">
                    <button type="submit" style="
                            width:100%;
                            background:#e63946;
                            color:white;
                            padding:8px;
                            border:none;
                            border-radius:8px;
                            cursor:pointer;
                            font-size:14px;
                        ">
                      Delete
                    </button>
                  </form>

                </div>

              </div>
            </div>

            <% }) %>

        </div>

        <!-- Add Home Button -->
        <div style="text-align:center; margin-top:50px;">
          <a href="/host/add-home" style="
            background:#ff385c;
            color:white;
            padding:12px 25px;
            border-radius:30px;
            font-size:16px;
            text-decoration:none;
            box-shadow:0 6px 15px rgba(255,56,92,0.3);
        ">
            + Add New Home
          </a>
        </div>

      </div>

  </body>

</html>